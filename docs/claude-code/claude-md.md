# CLAUDE.md 詳解

CLAUDE.md 是 Claude Code 的**記憶系統**，用於在多個對話之間保留設定、指令和偏好。

## 核心概念

```
沒有 CLAUDE.md：
┌──────────┐    ┌──────────┐    ┌──────────┐
│ 對話 1   │    │ 對話 2   │    │ 對話 3   │
│ "用中文" │    │ "用中文" │    │ "用中文" │
└──────────┘    └──────────┘    └──────────┘
   重複說           重複說          重複說

有 CLAUDE.md：
┌─────────────────────────────────────────────┐
│              CLAUDE.md                       │
│  - 用繁體中文                                │
│  - 用 TypeScript                            │
└─────────────────────────────────────────────┘
         ↓ 自動載入 ↓ 自動載入 ↓ 自動載入
┌──────────┐    ┌──────────┐    ┌──────────┐
│ 對話 1   │    │ 對話 2   │    │ 對話 3   │
│ (已知道) │    │ (已知道) │    │ (已知道) │
└──────────┘    └──────────┘    └──────────┘
```

## 存放位置

| 層級 | 位置 | 作用範圍 |
|------|------|----------|
| **個人級** | `~/.claude/CLAUDE.md` | 你自己，跨所有專案 |
| **專案級** | `./CLAUDE.md` | 此專案所有協作者 |
| **專案本地** | `./CLAUDE.local.md` | 僅你自己，當前專案 |
| **模組化** | `.claude/rules/*.md` | 按主題分類的規則 |

## 優先級

就近原則：**專案本地 > 專案級 > 個人級**

## 內容範例

```markdown
# 我的專案

## 語言設定
- 回覆使用繁體中文

## 編碼標準
- 使用 2 空格縮排
- 變數命名用 camelCase

## 常用指令
- 建置：`npm run build`
- 測試：`npm test`
```

## 檔案導入

使用 `@` 語法導入其他檔案：

```markdown
# 主要規範
@.claude/rules/typescript.md
@.claude/rules/testing.md
```

## 最佳實踐

1. **保持簡潔**：主檔案不超過 200 行
2. **模組化**：大型專案使用 `rules/` 目錄
3. **分層管理**：個人偏好放個人級，團隊標準放專案級
4. **定期更新**：專案架構改變時更新 CLAUDE.md
